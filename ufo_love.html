<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Ovni Galáctico de Halagos ✨</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />

  <!-- GSAP -->
  <script src="https://unpkg.com/gsap@3.12.2/dist/gsap.min.js" defer></script>

  <style>
    /* —— Reset —— */
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
    html,body{width:100%;height:100%;overflow:hidden;font-family:"Great Vibes",cursive;background:#000;color:#fff;position:relative;touch-action:manipulation}

    /* —— Universo —— */
    .star{position:absolute;width:2px;height:2px;background:#ffffff;border-radius:50%;opacity:.8}
    .planet{position:absolute;font-size:clamp(2rem,6vw,8rem);filter:drop-shadow(0 0 8px rgba(255,255,255,.35)) blur(1px);pointer-events:none;user-select:none;opacity:.6}
    .planet.earth{font-size:clamp(3rem,8vw,12rem);opacity:.7}

    /* —— UFO —— */
    .ufo{position:absolute;cursor:pointer;user-select:none;filter:drop-shadow(0 0 6px rgba(0,255,255,.65));z-index:3;display:inline-block;touch-action:manipulation}
    .ufo .ship{font-size:clamp(40px,8vw,60px);position:relative;z-index:2}
    .ufo .alien{position:absolute;left:50%;top:42%;transform:translate(-50%,-50%);font-size:clamp(18px,5vw,26px);opacity:.8;z-index:1;animation:bob 2s ease-in-out infinite}
    @keyframes bob{0%,100%{transform:translate(-50%,-50%) translateY(-1px)}50%{transform:translate(-50%,-50%) translateY(2px)}}

    /* —— Burbuja —— */
    .bubble{position:absolute;left:clamp(50px,12vw,70px);top:-10px;background:#fff;color:#000;padding:clamp(4px,2vw,6px) clamp(8px,3vw,12px);border-radius:10px;font-family:'Poppins',sans-serif;font-size:clamp(.7rem,3vw,.9rem);font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,.4);white-space:normal;opacity:0;max-width:220px;line-height:1.2}
    .bubble::after{content:"";position:absolute;left:-8px;top:50%;transform:translateY(-50%);border:8px solid transparent;border-right-color:#fff}

    /* —— Mensaje —— */
    #mensaje{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-family:'Poppins',sans-serif;font-weight:700;font-size:clamp(2rem,8vw,6rem);text-shadow:0 0 12px rgba(255,255,255,.85);opacity:0;pointer-events:none;z-index:2;text-align:center;max-width:90vw;word-wrap:break-word}

    /* —— Easter egg —— */
    .easter-egg{position:absolute;font-size:clamp(20px,5vw,26px);left:85%;top:8%;cursor:pointer;opacity:.3;touch-action:manipulation}

    /* —— Cometa —— */
    .comet{position:absolute;width:clamp(60px,12vw,100px);pointer-events:none;filter:drop-shadow(0 0 4px rgba(255,255,255,.6))}

    /* —— Responsive —— */
    @media(max-width:768px){
      .bubble{left:clamp(40px,10vw,50px);font-size:clamp(.6rem,3.5vw,.8rem);max-width:160px}
      #mensaje{font-size:clamp(1.5rem,7vw,4rem)}
      .planet{font-size:clamp(1.5rem,5vw,6rem)}
      .planet.earth{font-size:clamp(2rem,6vw,8rem)}
    }
    @media(max-width:480px){
      .bubble{left:clamp(30px,8vw,40px);font-size:clamp(.5rem,3vw,.7rem);max-width:130px}
      #mensaje{font-size:clamp(1.2rem,6vw,3rem)}
      .ufo .ship{font-size:clamp(30px,7vw,45px)}
      .ufo .alien{font-size:clamp(14px,4vw,20px)}
    }
    @media(max-height:500px) and (orientation:landscape){
      #mensaje{font-size:clamp(1rem,5vh,2.5rem)}
      .planet{font-size:clamp(1rem,4vh,4rem)}
      .planet.earth{font-size:clamp(1.5rem,5vh,6rem)}
    }
  </style>
</head>
<body>
  <div id="mensaje">¡Ajá, te encontré!</div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      let centralShown=false;
      let isMobile=window.innerWidth<=768;

      /* —— Utilidades —— */
      const updateDeviceType=()=>{isMobile=window.innerWidth<=768};

      /* —— Estrellas —— */
      const createStars=(n=isMobile?150:250)=>{
        document.querySelectorAll('.star').forEach(s=>s.remove());
        for(let i=0;i<n;i++){
          const s=document.createElement('div');s.className='star';
          s.style.left=Math.random()*innerWidth+'px';
          s.style.top=Math.random()*innerHeight+'px';
          const size=Math.random()*2+1;s.style.width=size+'px';s.style.height=size+'px';
          document.body.appendChild(s);
          gsap.to(s,{opacity:0,yoyo:true,repeat:-1,duration:gsap.utils.random(1,3),ease:'sine.inOut',delay:gsap.utils.random(0,3)});
        }
      };

      /* —— Planetas —— */
      const createPlanets=()=>{
        document.querySelectorAll('.planet').forEach(p=>p.remove());
        const data=isMobile?[
          {e:'🪐',cls:'',left:20,top:15},
          {e:'🌍',cls:'earth',left:50,top:35},
          {e:'🌕',cls:'',left:75,top:20},
          {e:'🛰️',cls:'',left:25,top:75}
        ]:[
          {e:'🪐',cls:'',left:15,top:22},
          {e:'🌍',cls:'earth',left:50,top:48},
          {e:'🌕',cls:'',left:80,top:28},
          {e:'🛰️',cls:'',left:22,top:78}
        ];
        data.forEach(d=>{
          const p=document.createElement('span');p.className='planet '+(d.cls||'');p.textContent=d.e;
          p.style.left=d.left+'vw';p.style.top=d.top+'vh';document.body.appendChild(p);
          const float=isMobile?15:30;gsap.to(p,{yoyo:true,repeat:-1,duration:gsap.utils.random(10,16),ease:'sine.inOut',y:'+='+float});
        });
      };

      /* —— Easter Egg —— */
      const createEasterEgg=()=>{
        document.querySelectorAll('.easter-egg').forEach(e=>e.remove());
        const egg=document.createElement('div');egg.className='easter-egg';egg.textContent='⭐';document.body.appendChild(egg);
        egg.addEventListener('click',()=>{gsap.to(egg,{scale:1.8,rotation:360,duration:1.2,yoyo:true,repeat:1});alert('¡Descubriste el Easter Egg! ✨');});
      };

      /* —— Cometa —— */
      const createComet=()=>{
        document.querySelectorAll('.comet').forEach(c=>c.remove());
        const comet=document.createElement('img');
        comet.src='ufos_v2.png'; // 👉 reemplaza con tu ruta PNG
        comet.alt='Cometa';
        comet.className='comet';
        document.body.appendChild(comet);
        const startX=-120,endX=innerWidth+120,startY=gsap.utils.random(50,innerHeight-150),endY=startY-gsap.utils.random(80,120);
        gsap.set(comet,{x:startX,y:startY,rotation:15,opacity:0});
        gsap.to(comet,{opacity:1,duration:1});
        gsap.to(comet,{x:endX,y:endY,duration:gsap.utils.random(14,20),ease:'none',onComplete:createComet});
      };

      /* —— UFO —— */
      const ufo=document.createElement('div');ufo.className='ufo';ufo.innerHTML='<span class="alien">👾</span><span class="ship">🛸</span>';document.body.appendChild(ufo);
      const fly=()=>{
        const startX=-120,endX=innerWidth+120,randomY=gsap.utils.random(100,innerHeight-200);
        gsap.set(ufo,{x:startX,y:randomY,rotation:gsap.utils.random(-10,10),scale:1});
        const dur=isMobile?gsap.utils.random(20,30):gsap.utils.random(18,26);
        gsap.to(ufo,{x:endX,y:'+='+gsap.utils.random(-80,80),duration:dur,ease:'none',onComplete:fly});
      };

      /* —— Mensaje & burbuja —— */
      const mensaje=document.getElementById('mensaje');
      const handleClick=e=>{
        let bubble=ufo.querySelector('.bubble');if(bubble) bubble.remove();
        bubble=document.createElement('div');bubble.className='bubble';bubble.innerHTML='Buscando<br>a la más hermosa!!';ufo.appendChild(bubble);
        gsap.fromTo(bubble,{opacity:0},{opacity:1,duration:.4});
        setTimeout(()=>{
          bubble.innerHTML='¡Ajá,<br>te encontré!';gsap.killTweensOf(ufo);
          const centerX=innerWidth/2-30,centerY=innerHeight/2-60,scale=isMobile?2.5:3;
          gsap.to(ufo,{x:centerX,y:centerY,scale,duration:1.2,ease:'power2.out'});
          if(!centralShown){centralShown=true;gsap.fromTo(mensaje,{opacity:0,scale:.85},{opacity:1,scale:1,duration:1.2,ease:'back.out(1.7)',delay:.6});gsap.to(mensaje,{scale:1.05,yoyo:true,repeat:-1,duration:4,ease:'sine.inOut',delay:1.5});}
        },2000);
        gsap.to(bubble,{opacity:0,duration:1,delay:4,onComplete:()=>bubble.remove()});e.stopPropagation();
      };
      ufo.addEventListener('click',handleClick);
      ufo.addEventListener('touchend',handleClick);

      /* —— Inicialización —— */
      const initialize=()=>{updateDeviceType();createStars();createPlanets();createEasterEgg();createComet();fly();};

      /* —— Resize —— */
      let resizeT;window.addEventListener('resize',()=>{clearTimeout(resizeT);resizeT=setTimeout(()=>{updateDeviceType();gsap.killTweensOf(ufo);createStars();createPlanets();createEasterEgg();createComet();fly();},250);
      });
      window.addEventListener('orientationchange',()=>{setTimeout(()=>window.dispatchEvent(new Event('resize')),500)});

      initialize();
    });
  </script>
</body>
</html>
